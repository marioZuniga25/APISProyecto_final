<div class="cuenta">
    <div class="cuenta-contenido">
      <a href="" class="cerrar-sesion">
        <p>Cerrar sesión</p>
        <span class="fa fa-x"></span>
      </a>
      <div class="cuenta-contenido-titulo">
        <a class="selected" href="#">MI PERFIL</a>
      </div>
      <div class="perfil">
        <div class="perfil-misdatos">
          <h2>MIS DATOS</h2>
          <h3>Nombre del usuario</h3>
          <p>{{ user?.nombreUsuario }}</p>
          <h3>Correo electrónico</h3>
          <p>{{ user?.correo }}</p>
          <h3>Rol</h3>
          <p>{{ user?.rol === 1 ? 'Administrador' : 'Cliente' }}</p>
        </div>
  
        <div class="perfil-mistarjetas">
          <h2>MIS TARJETAS</h2>
          <div class="tarjetas-lista">
            <div *ngFor="let tarjeta of tarjetas" class="tarjeta">
              <div class="tarjeta-datos">
                <p class="tarjeta-numero">**** **** **** {{ tarjeta.numeroTarjeta.slice(-4) }}</p>
                <p class="tarjeta-nombre">{{ tarjeta.nombrePropietario }}</p>
                <p class="tarjeta-expira">Expira: {{ tarjeta.fechaVencimiento }}</p>
              </div>
              <button class="tarjeta-eliminar" (click)="eliminarTarjeta(tarjeta.idTarjeta)">
                <span class="fa fa-trash"></span> Eliminar
              </button>
            </div>
  
            <div class="tarjeta-agregar">
              <h3 style="font-size: 20px; padding-bottom: 20px;">Agregar Nueva Tarjeta</h3>
              <form (ngSubmit)="agregarTarjeta()" style="display: flex; align-items: center; justify-content: center; flex-wrap: wrap;">
                <div class="form-group" style="width: calc(50% - 30px); margin: 0 10px; margin-bottom: 15px;text-align: left;">
                    <input type="hidden" id="idUsuario" [(ngModel)]="nuevaTarjeta.idUsuario" name="idUsuario" value="{{user?.idUsuario}}">
                  <label for="nombrePropietario">Nombre del Propietario</label>
                  <input style="width: 100%;border: none; border-bottom: 1px solid grey; outline: none; padding: 8px 10px;" type="text" id="nombrePropietario" [(ngModel)]="nuevaTarjeta.nombrePropietario" name="nombrePropietario" required>
                </div>
                <div class="form-group" style="width: calc(50% - 30px); margin: 0 10px; margin-bottom: 15px;text-align: left;">
                  <label for="numeroTarjeta">Número de Tarjeta</label>
                  <input style="width: 100%;border: none; border-bottom: 1px solid grey; outline: none; padding: 8px 10px;" type="text" id="numeroTarjeta" [(ngModel)]="nuevaTarjeta.numeroTarjeta" name="numeroTarjeta" required minlength="16" maxlength="16" pattern="^[0-9]{16}$">
                </div>
                <div class="form-group" style="width: calc(50% - 30px); margin: 0 10px; margin-bottom: 15px;text-align: left;">
                  <label for="fechaVencimiento">Fecha de Vencimiento (MM/AA)</label>
                  <input style="width: 100%;border: none; border-bottom: 1px solid grey; outline: none; padding: 8px 10px;" type="text" id="fechaVencimiento" [(ngModel)]="nuevaTarjeta.fechaVencimiento" name="fechaVencimiento" required pattern="^(0[1-9]|1[0-2])\/([0-9]{2})$">
                </div>
                <div class="form-group" style="width: calc(50% - 30px); margin: 0 10px; margin-bottom: 15px;text-align: left;">
                  <label for="ccv">CCV</label>
                  <input style="width: 100%;border: none; border-bottom: 1px solid grey; outline: none; padding: 8px 10px;" type="text" id="ccv" [(ngModel)]="nuevaTarjeta.ccv" name="ccv" required minlength="3" maxlength="3" pattern="^[0-9]{3}$">
                </div>
                <button type="submit" class="tarjeta-agregar-boton" style="margin-top: 20px;">
                  <span class="fa fa-plus"></span> Agregar Tarjeta
                </button>
              </form>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  